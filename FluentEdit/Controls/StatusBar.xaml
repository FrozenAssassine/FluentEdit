<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="FluentEdit.Controls.StatusBar"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FluentEdit.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid Grid.Row="2" Height="30" x:Name="statusBar">
        <Button x:Name="fileNameDisplay" Background="Transparent" BorderThickness="0" HorizontalAlignment="Left" Margin="5,0,5,0"  VerticalAlignment="Center" MinWidth="110">
            <Button.Flyout>
                <Flyout Closed="Flyout_Closed">
                    <StackPanel Orientation="Horizontal">
                        <TextBox Header="Filename:" x:Name="Infobar_FileNameInput" TextChanged="FileNameInput_TextChanged" Width="150"/>
                        <Button Margin="5,30,0,0" Click="RenameFile_Click" Content="Rename" x:Name="Infobar_RenameFile"/>
                    </StackPanel>
                </Flyout>
            </Button.Flyout>
        </Button>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,10,0">
            <TextBlock Margin="2" ToolTipService.ToolTip="Word count" x:Name="Infobar_WordCount" HorizontalAlignment="Right" VerticalAlignment="Center" TextAlignment="Center" MinWidth="45"></TextBlock>
            <TextBlock Margin="2" ToolTipService.ToolTip="Character count" x:Name="Infobar_CharacterCount" HorizontalAlignment="Right" VerticalAlignment="Center" TextAlignment="Center" MinWidth="45"></TextBlock>

            <Button Background="Transparent" BorderThickness="0" BorderBrush="Transparent" x:Name="Infobar_Cursor" HorizontalAlignment="Right" VerticalAlignment="Center" MinWidth="45">
                <Button.Flyout>
                    <Flyout x:Name="Infobar_GoToLineFlyout" Closed="Flyout_Closed" Opened="GoToLineFlyout_Opened">
                        <StackPanel Orientation="Horizontal">
                            <NumberBox AcceptsExpression="False" Height="33" SmallChange="1" LargeChange="50" Maximum="{x:Bind textbox.NumberOfLines, Mode=OneWay}" Minimum="0" Width="120" x:Name="Infobar_GoToLineTextbox" PlaceholderText="Go to" Margin="0,0,0,0" KeyUp="GoToLineTextbox_KeyUp"/>
                            <Button Height="32" Margin="10,0,0,0" Click="GoToLine_Click" Content="&#xE73E;" FontFamily="{StaticResource SymbolThemeFontFamily}"/>
                        </StackPanel>
                    </Flyout>
                </Button.Flyout>
            </Button>
            <Button PointerWheelChanged="Zoom_PointerWheelChanged" DoubleTapped="ZoomSlider_DoubleTapped" Background="Transparent" BorderThickness="0" x:Name="Infobar_Zoom" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="2,0,2,0" MinWidth="40">
                <Button.Flyout>
                    <Flyout Opening="StatusBarZoomFlyout_Opening" Closed="Flyout_Closed">
                        <Slider TickFrequency="5" TickPlacement="Outside" StepFrequency="5" DoubleTapped="ZoomSlider_DoubleTapped" Header="Zoom: " x:Name="ZoomSlider" ValueChanged="ZoomSlider_ValueChanged" Width="150" Value="100" Maximum="400" Minimum="4"/>
                    </Flyout>
                </Button.Flyout>
            </Button>

            <Button Background="Transparent" BorderThickness="0"  x:Name="Infobar_Encoding" HorizontalAlignment="Right" VerticalAlignment="Center" MinWidth="40">
                <Button.Flyout>
                    <MenuFlyout Closed="Flyout_Closed">
                        <MenuFlyoutItem Text="UTF-8" Tag="1" Click="Encoding_Click"/>
                        <MenuFlyoutItem Text="UTF-8 BOM" Tag="2" Click="Encoding_Click"/>
                        <MenuFlyoutItem Text="UTF-16 LE" Tag="3" Click="Encoding_Click"/>
                        <MenuFlyoutItem Text="UTF-16 BE" Tag="4" Click="Encoding_Click"/>
                        <MenuFlyoutItem Text="UTF-16 LE BOM" Tag="5" Click="Encoding_Click"/>
                        <MenuFlyoutItem Text="UTF-16 BE BOM" Tag="6" Click="Encoding_Click"/>
                    </MenuFlyout>
                </Button.Flyout>
            </Button>
            <Button Background="Transparent" BorderThickness="0"  x:Name="Infobar_LineEnding" HorizontalAlignment="Right" VerticalAlignment="Center" MinWidth="40">
                <Button.Flyout>
                    <MenuFlyout x:Name="Infobar_LineEndingFlyout">
                    </MenuFlyout>
                </Button.Flyout>
            </Button>
        </StackPanel>
    </Grid>
</UserControl>
